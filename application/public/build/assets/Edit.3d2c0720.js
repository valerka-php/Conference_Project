import{L as _,H as C,q as s,o as d,g as m,a as r,d as l,w as c,F as L,t as f,k as g,e as k}from"./app.37dcec21.js";import B from"./CreateMap.6aa49703.js";import{B as H}from"./BackButton.45c05563.js";import{H as R}from"./HomeLayout.ece2bcf7.js";import{_ as N}from"./_plugin-vue_export-helper.cdc0426e.js";import"./SearchForm.7135984c.js";const U={components:{Link:_,Head:C,CreateMap:B,BackButton:H,HomeLayout:R},props:{countries:Array,errors:Object,conference:Object,categories:Object},data:()=>({valid:!0,titleRules:[e=>!!e||"Name is required",e=>e&&e.length<=25||"Name must be less than 25 characters",e=>e&&e.length>=2||"Name must be more than 2 characters"],dataRules:[e=>!!e||"Please select date"],latitudeRules:[e=>e&&e>=-90&&e<=90||e===0||"point must be in the range [-90 , 90]"],longitudeRules:[e=>e&&e>=-180&&e<=180||e===0||"point must be in the range [-180 , 180]"],form:{id:"",title:"",date:"",latitude:"",longitude:"",country:"",category_id:""}}),computed:{lat:{get(){return this.$store.getters.getCurrentLatitude},set(e){this.$store.commit("saveLatitude",parseFloat(e))}},lng:{get(){return this.$store.getters.getCurrentLongitude},set(e){this.$store.commit("saveLongitude",parseFloat(e))}}},methods:{async validate(){const{valid:e}=await this.$refs.form.validate();e&&this.submit()},submit(){this.getCoordinates(),this.$inertia.put(`/conferences/${this.form.id}`,this.form)},getCoordinates(){this.form.latitude=this.$store.getters.getCurrentLatitude,this.form.longitude=this.$store.getters.getCurrentLongitude}},mounted(){this.form.title=this.conference.title,this.form.id=this.conference.id,this.form.creator_id=this.conference.creator_id,this.form.date=this.conference.date,this.form.country=this.conference.country,this.form.latitude=this.conference.latitude,this.form.longitude=this.conference.longitude,this.form.category_id=this.conference.category_id,this.$store.commit("saveCoordinates",{lat:parseFloat(this.form.latitude),lng:parseFloat(this.form.longitude)})}},F={class:"create-conference-form"},q={class:"mb-7"},w={key:0,class:"mb-5"},j={key:0,class:"mb-5 errors"},E={class:"register-form-footer"};function M(e,t,i,O,$,a){const h=s("Head"),p=s("HomeLayout"),y=s("CreateMap"),n=s("v-text-field"),u=s("v-select"),v=s("BackButton"),V=s("v-btn"),b=s("v-form");return d(),m(L,null,[r(h,{title:"Edit Conference"}),r(p),l("div",F,[r(y,{class:"mb-7"}),l("div",q,[r(b,{ref:"form",modelValue:e.valid,"onUpdate:modelValue":t[6]||(t[6]=o=>e.valid=o),"lazy-validation":"",style:{width:"360px"},class:"mt-5"},{default:c(()=>[l("div",null,[r(n,{modelValue:e.form.title,"onUpdate:modelValue":t[0]||(t[0]=o=>e.form.title=o),counter:25,rules:e.titleRules,label:"Title",required:""},null,8,["modelValue","rules"]),i.errors.title?(d(),m("div",w,f(i.errors.title),1)):g("",!0)]),l("div",null,[r(u,{modelValue:e.form.category_id,"onUpdate:modelValue":t[1]||(t[1]=o=>e.form.category_id=o),items:i.categories,"item-value":"id","item-title":"title",label:"Category",required:""},null,8,["modelValue","items"]),i.errors.category_id?(d(),m("div",j,f(i.errors.category_id),1)):g("",!0)]),l("div",null,[r(n,{type:"date",rules:e.dataRules,modelValue:e.form.date,"onUpdate:modelValue":t[2]||(t[2]=o=>e.form.date=o),placeholder:"dd-mm-yyyy"},null,8,["rules","modelValue"])]),l("div",null,[r(n,{rules:e.latitudeRules,modelValue:a.lat,"onUpdate:modelValue":t[3]||(t[3]=o=>a.lat=o),type:"number",label:"Latitude"},null,8,["rules","modelValue"])]),l("div",null,[r(n,{rules:e.longitudeRules,modelValue:a.lng,"onUpdate:modelValue":t[4]||(t[4]=o=>a.lng=o),type:"number",label:"Longitude"},null,8,["rules","modelValue"])]),l("div",null,[r(u,{modelValue:e.form.country,"onUpdate:modelValue":t[5]||(t[5]=o=>e.form.country=o),items:i.countries,"item-value":"name","item-title":"name",label:"Country",required:""},null,8,["modelValue","items"])]),l("div",E,[r(v,{class:"ml-5 btn-conference"}),r(V,{onClick:a.submit,color:"success",class:"mr-4"},{default:c(()=>[k(" save ")]),_:1},8,["onClick"])])]),_:1},8,["modelValue"])])])],64)}const G=N(U,[["render",M]]);export{G as default};
