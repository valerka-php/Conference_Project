import{H as x,L as C,C as B,q as n,o as m,g as a,a as r,w as f,F as N,t as c,k as d,d as l,h as R,m as w,e as D}from"./app.37dcec21.js";import{Z as S}from"./main.01a381b1.js";import{B as F}from"./BackButton.45c05563.js";import{H as U}from"./HomeLayout.ece2bcf7.js";import{_ as L}from"./_plugin-vue_export-helper.cdc0426e.js";import"./SearchForm.7135984c.js";const H={name:"CreateReport",props:{conferenceId:Number,date:String,errors:Object,categories:Object},components:{ConferenceLayout:U,BackButton:F,Datepicker:S,Head:x,Link:C},data(){return{valid:!0,titleRules:[e=>!!e||"Name is required",e=>e&&e.length<=255||"Name must be less than 255 characters",e=>e&&e.length>=2||"Name must be more than 2 characters"],descriptionRules:[e=>e&&e.length<=255||"Name must be less than 255 characters"],fileRules:[e=>!!e||"Please add your presentation",e=>B(e[0].size<=1e7)||"Size must be less then 10 mb",e=>this.getFileType(e)==="pptx"||this.getFileType(e)==="ppt"||"File must be pptx or ppt"],form:{title:"",description:"",startTime:"",endTime:"",category_id:"",online:!1},presentation:"",startTime:{hours:8,minutes:0,seconds:0},endTime:{hours:9,minutes:0,seconds:0}}},methods:{async validate(){const{valid:e}=await this.$refs.form.validate();e&&this.submit()},submit(){this.getTime(),this.$inertia.post(`/reports/${this.conferenceId}`,{online:this.form.online,conference_id:this.conferenceId,title:this.form.title,description:this.form.description,start_time:this.form.startTime,end_time:this.form.endTime,category_id:this.form.category_id,file:this.presentation},{forceFormData:!0})},getTime(){this.form.startTime=this.startTime.hours+":"+this.startTime.minutes,this.form.endTime=this.endTime.hours+":"+this.endTime.minutes},getFileType(e){let o=e[0].name.lastIndexOf(".")+1,s=e[0].name.length;return e[0].name.substring(o,s)}}},z={key:0,class:"error-form"},I={key:0,class:"mb-5 errors"},q={class:"report-time"},O={class:"set-time"},j={key:0,class:"error-form"},E={key:1,class:"error-form"},Z={class:"report-presentation"},M=l("i",{class:"bi bi-file-text",style:{"font-size":"45px"}},null,-1),P={class:"form-check form-switch"},A=l("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"online",-1),G={class:"register-form-footer"};function J(e,o,s,K,t,p){const h=n("Head"),_=n("ConferenceLayout"),v=n("v-text-field"),b=n("v-select"),u=n("Datepicker"),g=n("v-textarea"),y=n("v-file-input"),V=n("BackButton"),k=n("v-btn"),T=n("v-form");return m(),a(N,null,[r(h,{title:"Report"}),r(_),r(T,{ref:"form",class:"report-create",modelValue:t.valid,"onUpdate:modelValue":o[7]||(o[7]=i=>t.valid=i),"lazy-validation":""},{default:f(()=>[r(v,{label:"Title",rules:t.titleRules,modelValue:t.form.title,"onUpdate:modelValue":o[0]||(o[0]=i=>t.form.title=i)},null,8,["rules","modelValue"]),s.errors.title?(m(),a("div",z,c(s.errors.title),1)):d("",!0),l("div",null,[r(b,{modelValue:t.form.category_id,"onUpdate:modelValue":o[1]||(o[1]=i=>t.form.category_id=i),items:s.categories,"item-value":"id","item-title":"title",label:"Category",required:""},null,8,["modelValue","items"]),s.errors.category_id?(m(),a("div",I,c(s.errors.category_id),1)):d("",!0)]),l("div",q,[l("div",O,[r(u,{placeholder:"Select Start Time","min-time":{hours:8},"max-time":{hours:21},modelValue:t.startTime,"onUpdate:modelValue":o[2]||(o[2]=i=>t.startTime=i),"minutes-increment":"15","minutes-grid-increment":"15","time-picker":""},null,8,["modelValue"]),r(u,{placeholder:"Select End Time","min-time":{hours:8},"max-time":{hours:21},modelValue:t.endTime,"onUpdate:modelValue":o[3]||(o[3]=i=>t.endTime=i),"minutes-increment":"15","minutes-grid-increment":"15","time-picker":""},null,8,["modelValue"])]),s.errors.time?(m(),a("div",j,c(s.errors.time),1)):d("",!0)]),r(g,{class:"mt-7",solo:"",name:"input-7-4",rules:t.descriptionRules,modelValue:t.form.description,"onUpdate:modelValue":o[4]||(o[4]=i=>t.form.description=i),label:"Description"},null,8,["rules","modelValue"]),s.errors.description?(m(),a("div",E,c(s.errors.description),1)):d("",!0),l("div",Z,[M,r(y,{label:"File input",variant:"solo",rules:t.fileRules,modelValue:t.presentation,"onUpdate:modelValue":o[5]||(o[5]=i=>t.presentation=i)},null,8,["rules","modelValue"])]),l("div",P,[R(l("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"flexSwitchCheckDefault","onUpdate:modelValue":o[6]||(o[6]=i=>t.form.online=i)},null,512),[[w,t.form.online]]),A]),l("div",G,[r(V,{class:"v-btn v-btn--elevated v-theme--light v-btn--density-default v-btn--size-default v-btn--variant-elevated ml-4"}),r(k,{onClick:p.validate,color:"success",class:"mr-4"},{default:f(()=>[D(" save ")]),_:1},8,["onClick"])])]),_:1},8,["modelValue"])],64)}const te=L(H,[["render",J]]);export{te as default};
