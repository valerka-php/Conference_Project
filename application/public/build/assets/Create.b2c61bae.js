import{L as _,H as h,q as a,o as d,g as m,a as l,d as r,w as c,F as L,t as f,k as g,e as k}from"./app.37dcec21.js";import B from"./CreateMap.6aa49703.js";import{B as H}from"./BackButton.45c05563.js";import{H as N}from"./HomeLayout.ece2bcf7.js";import{_ as R}from"./_plugin-vue_export-helper.cdc0426e.js";import"./SearchForm.7135984c.js";const U={components:{HomeLayout:N,BackButton:H,Link:_,Head:h,CreateMap:B},props:{countries:Array,errors:Object,userId:Number,mapId:String,categories:Object},data:()=>({valid:!0,titleRules:[e=>!!e||"Name is required",e=>e&&e.length<=25||"Name must be less than 25 characters",e=>e&&e.length>=2||"Name must be more than 2 characters"],dateRules:[e=>!!e||"Please select date"],latitudeRules:[e=>e&&e>=-90&&e<=90||e===0||"point must be in the range [-90 , 90]"],longitudeRules:[e=>e&&e>=-180&&e<=180||e===0||"point must be in the range [-180 , 180]"],form:{title:"",date:"",latitude:"",longitude:"",country:"Ukraine",category_id:""}}),methods:{async validate(){const{valid:e}=await this.$refs.form.validate();e&&this.submit()},submit(){this.getCoordinates(),this.$inertia.post("/conferences",this.form)},getCoordinates(){this.form.latitude=this.$store.getters.getCurrentLatitude,this.form.longitude=this.$store.getters.getCurrentLongitude}},computed:{lat:{get(){return this.$store.getters.getCurrentLatitude},set(e){this.$store.commit("saveLatitude",parseFloat(e))}},lng:{get(){return this.$store.getters.getCurrentLongitude},set(e){this.$store.commit("saveLongitude",parseFloat(e))}}}},q={class:"create-conference-form"},I={class:"mb-7"},w={key:0,class:"mb-5"},F={key:0,class:"mb-5 errors"},M={class:"register-form-footer"};function j(e,t,s,O,S,n){const p=a("Head"),y=a("HomeLayout"),V=a("CreateMap"),i=a("v-text-field"),u=a("v-select"),v=a("BackButton"),b=a("v-btn"),C=a("v-form");return d(),m(L,null,[l(p,{title:"Create Conference"}),l(y),r("div",q,[l(V,{mapId:this.mapId,class:"mb-7 mt-4 mr-4 ml-4"},null,8,["mapId"]),r("div",I,[l(C,{ref:"form",modelValue:e.valid,"onUpdate:modelValue":t[6]||(t[6]=o=>e.valid=o),"lazy-validation":"",style:{width:"360px"},class:"mt-5"},{default:c(()=>[r("div",null,[l(i,{id:"title",modelValue:e.form.title,"onUpdate:modelValue":t[0]||(t[0]=o=>e.form.title=o),counter:25,rules:e.titleRules,label:"Title",required:""},null,8,["modelValue","rules"]),s.errors.title?(d(),m("div",w,f(s.errors.title),1)):g("",!0)]),r("div",null,[l(u,{modelValue:e.form.category_id,"onUpdate:modelValue":t[1]||(t[1]=o=>e.form.category_id=o),items:s.categories,"item-value":"id","item-title":"title",label:"Category",required:""},null,8,["modelValue","items"]),s.errors.category_id?(d(),m("div",F,f(s.errors.category_id),1)):g("",!0)]),r("div",null,[l(i,{type:"date",modelValue:e.form.date,"onUpdate:modelValue":t[2]||(t[2]=o=>e.form.date=o),rules:e.dateRules,placeholder:"dd-mm-yyyy",required:""},null,8,["modelValue","rules"])]),r("div",null,[l(i,{rules:e.latitudeRules,modelValue:n.lat,"onUpdate:modelValue":t[3]||(t[3]=o=>n.lat=o),type:"number",label:"Latitude"},null,8,["rules","modelValue"])]),r("div",null,[l(i,{rules:e.longitudeRules,modelValue:n.lng,"onUpdate:modelValue":t[4]||(t[4]=o=>n.lng=o),type:"number",label:"Longitude"},null,8,["rules","modelValue"])]),r("div",null,[l(u,{modelValue:e.form.country,"onUpdate:modelValue":t[5]||(t[5]=o=>e.form.country=o),items:s.countries,"item-value":"name","item-title":"name",label:"Country",required:""},null,8,["modelValue","items"])]),r("div",M,[l(v,{class:"ml-5 btn-conference"}),l(b,{onClick:n.validate,color:"success",class:"mr-4"},{default:c(()=>[k(" create ")]),_:1},8,["onClick"])])]),_:1},8,["modelValue"])])])],64)}const $=R(U,[["render",j]]);export{$ as default};
